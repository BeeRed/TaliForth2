 : ( [char] ) parse 2drop ; immediate : .( [char] ) parse type ; immediate : if postpone 0branch here 0 , ; immediate compile-only : then here swap ! ; immediate compile-only : else postpone branch here 0 , here rot ! ; immediate compile-only : repeat postpone again here swap ! ; immediate compile-only : until postpone 0branch , ; immediate compile-only : while postpone 0branch here 0 , swap ; immediate compile-only : case 0 ; immediate compile-only : of postpone over postpone = postpone if postpone drop ; immediate compile-only : endof postpone else ; immediate compile-only : endcase postpone drop begin ?dup while postpone then repeat ; immediate compile-only : defer! >body ! ; : defer@ >body @ ; : is state @ if postpone ['] postpone defer! else ' defer! then ; immediate : action-of state @ if postpone ['] postpone defer@ else ' defer@ then ; immediate : u.r >r 0 <# #s #> r> over - spaces type ; : .r >r dup abs 0 <# #s rot sign #> r> over - spaces type ; : ud. <# #s #> type space ; : ud.r >r <# #s #> r> over - spaces type ; : d. tuck dabs <# #s rot sign #> type space ; : d.r >r tuck dabs <# #s rot sign #> r> over - spaces type ; : 2constant create swap , , does> dup @ swap cell+ @ ; : 2literal swap postpone literal postpone literal ; immediate : string_of postpone 2over postpone compare postpone 0= postpone if postpone 2drop ; immediate compile-only hex : ENVIRONMENT? case s" /COUNTED-STRING" string_of 7FFF true endof s" /HOLD" string_of FF true endof s" /PAD" string_of 54 true endof s" ADDRESS-UNIT-BITS" string_of 8 true endof s" FLOORED" string_of false true endof s" MAX-CHAR" string_of 255 true endof s" MAX-D" string_of 7FFFFFFF. true endof s" MAX-N" string_of 7FFF true endof s" MAX-U" string_of FFFF true endof s" MAX-UD" string_of FFFFFFFF. true endof s" RETURN-STACK-CELLS" string_of 80 true endof s" STACK-CELLS" string_of 20 true endof 2drop false false endcase ; decimal .( Tali Forth 2 for the 65c02) cr .( Version BETA 22. Sep 2018 ) cr .( Copyright 2014-2018 Scot W. Stevenson) cr .( Tali Forth 2 comes with absolutely NO WARRANTY) cr .( Type 'bye' to exit) cr 